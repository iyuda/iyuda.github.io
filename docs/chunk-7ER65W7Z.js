import{f as D}from"./chunk-WECU4C2F.js";import{a as v,b as x,c as _,d as I}from"./chunk-QNAF5OXN.js";import{a as M}from"./chunk-TQTN3ZQO.js";import{Ba as d,Ha as g,Ja as n,Ka as o,Ma as k,Na as h,Oa as a,Qa as u,Ra as l,Ta as b,Ua as y,Va as S,nb as f,oa as i,ob as C,sa as m,xa as p}from"./chunk-DRHLHYQO.js";function P(c,e){if(c&1&&(n(0,"div",3)(1,"h3",7),a(2),o(),n(3,"p"),a(4),o(),n(5,"p"),a(6),o()()),c&2){let t=h();i(2),l(" ",t.stockData.name," (",t.stockData.symbol,") "),i(2),u("Price: ",t.stockData.price,""),i(2),l("Change: ",t.stockData.change," (",t.stockData.percentChange,"%)")}}var w=class c{constructor(e){this.financeService=e;console.log("StocksComponent loaded")}stockSymbol="";stockData=null;ngOnInit(){console.log("StocksComponent init")}getStockData(){this.stockSymbol?this.financeService.getStockPrice(this.stockSymbol).subscribe({next:e=>{this.stockData={symbol:this.stockSymbol.toUpperCase(),price:e.body.primaryData.lastSalePrice,change:e.body.primaryData.netChange,percentageChange:e.body.primaryData.percentageChange}},error:e=>{console.error("Failed to fetch stock data:",e),this.stockData=null}}):this.stockData=null}searchStock(){this.stockSymbol?this.financeService.getStockPrice(this.stockSymbol).subscribe({next:e=>{this.stockData={symbol:this.stockSymbol.toUpperCase(),price:e.body.primaryData.lastSalePrice,change:e.body.primaryData.netChange,percentageChange:e.body.primaryData.percentageChange}},error:e=>{console.error("Error fetching stock data:",e),this.stockData={symbol:"Error fetching stock data",price:null,change:null,percentageChange:null}}}):this.stockData=null}static \u0275fac=function(t){return new(t||c)(m(M))};static \u0275cmp=p({type:c,selectors:[["app-stocks"]],decls:9,vars:2,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100"],[1,"w-full","max-w-xl","p-6","bg-white","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","text-center","mb-6"],[1,"text-center","mb-6"],["type","text","placeholder","Enter stock symbol (e.g., AAPL)",1,"border","px-4","py-2","rounded","w-2/3",3,"ngModelChange","ngModel"],[1,"ml-3","bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded",3,"click"],["class","text-center mb-6",4,"ngIf"],[1,"text-lg","font-semibold"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"\u{1F4C8} Stock Data"),o(),n(4,"div",3)(5,"input",4),S("ngModelChange",function(s){return y(r.stockSymbol,s)||(r.stockSymbol=s),s}),o(),n(6,"button",5),k("click",function(){return r.searchStock()}),a(7," Search "),o()(),d(8,P,7,5,"div",6),o()()),t&2&&(i(5),b("ngModel",r.stockSymbol),i(3),g("ngIf",r.stockData))},dependencies:[C,f,I,v,x,_,D],encapsulation:2})};export{w as StocksComponent};
